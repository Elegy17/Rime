# wubi86.custom.yaml
patch:
  "switches":
    - name: ascii_mode
      reset: 0
      states: [ ä¸­æ–‡, è¥¿æ–‡ ]
    - name: full_shape
      states: [ åŠè§’, å…¨è§’ ]
    - name: simplification
      states: [ ç®€ä½“, ç¹é«” ]
    - name: extended_charset
      states: [ å¸¸ç”¨, å¢å»£ ]
    - name: emoji
      states: [ ğŸ’€, ğŸ˜„ ]
    - name: ascii_punct
      states: [ ã€‚ï¼Œ, "ï¼," ]
    
  "engine":
    processors:
      - ascii_composer
      - recognizer
      - key_binder
      - speller
      - punctuator
      - selector
      - navigator
      - express_editor
    segmentors:
      - ascii_segmentor
      - matcher
      - abc_segmentor
      - punct_segmentor
      - fallback_segmentor
    translators:
      - punct_translator
      - reverse_lookup_translator
      - table_translator
      - history_translator@repeat_last_input # é‡å¤ä¸Šä¸€æ¬¡è¾“å…¥ï¼Œå¯¹åº”ä¸‹é¢çš„ repeat_last_input
      - history_translator@repeat_last_input1  #é‡å¤ä¸Šå±
      - history_translator@repeat_last_input2  #é‡å¤ä¸Šå±2
    filters:
      - simplifier@simplification  #ç®€ç¹æ»¤é•œ
      - uniquifier  #è¿‡æ»¤é‡å¤å­—ç¬¦
      - simplifier@emoji  # Emojiè¡¨æƒ…

  #â˜…æ‹¼å†™è¿ç®—å¤„ç†â˜…
  "speller/alphabet": "abcdefghijklmnopqrstuvwxyz/"                  #å®šä¹‰æœ¬æ–¹æ¡ˆè¾“å…¥é”®
  "speller/finals": ""                                               #å®šä¹‰ä»…ä½œæœ«ç ä¹‹é”®
  "speller/delimiter": " ;'"                                           #ä¸Šå±›æ—¶çš„éŸ³èŠ‚é—´åˆ†éŸ³ç¬¦
  "speller/auto_select": true                                        #è‡ªåŠ¨ä¸Šå±›ã€”trueæˆ–falseã€•
  "speller/max_code_length": 4                                       #å½¢ç æœ€å¤§ç é•¿ï¼Œè¶…è¿‡åˆ™é¡¶å­—ä¸Šå±›
  "speller/auto_select_pattern": ^;.$|^\w{4}$                       #è‡ªåŠ¨ä¸Šå±è§„åˆ™,å½“è¾“å…¥ä¸²å¯ä»¥è¢«åŒ¹é…æ—¶è‡ªåŠ¨é¡¶å­—ä¸Šå±
  "speller/auto_clear": auto      #è‡ªåŠ¨æ¸…ç å‚æ•°ï¼šmanualç©ºç æŒ‰ä¸‹ä¸€é”®ç¡®è®¤æ¸…å±ã€autoç©ºç è‡ªåŠ¨æ¸…ã€max_lengthè¾¾æœ€é•¿ç æ—¶åç é¡¶ä¸Šæ¸…å±
  "speller/algebra":                     #æ‹¼å†™è¿ç®—è§„åˆ™ï¼Œç”±ä¹‹ç®—å‡ºçš„æ‹¼å†™æ±‡å…¥prismä¸­,æ¼”ç®—åŒ…å«ï¼š
     #- derive/^.(.*)$/'$1/             #ä¸‡èƒ½æ‹¼è¿, ã€”ä»¥ä¸‹å‡ æ¡è¿ç®—å¯å®ç°â€˜å·ä½œä¸‡èƒ½å­¦ä¹ é”®ï¼Œå¼€å¯åå½±å“è¿è¡Œé€Ÿåº¦ã€•
     #- derive/^(.).(.*)$/$1'$2/        #ä¸‡èƒ½æ‹¼è¿
     #- derive/^(..).(.*)$/$1'$2/       #ä¸‡èƒ½æ‹¼è¿
     #- derive/^(...).(.*)$/$1'$2/      #ä¸‡èƒ½æ‹¼è¿
     #- derive/^(...).$/$1'/            #ä¸‡èƒ½æ‹¼è¿
    
# æŒ‡å®šè‡ªå®šä¹‰è¯åº“ä½ç½®
  "translator/dictionary": wubi86.config
  "translator/db_class": userdb                #è®¾å®šç”¨æˆ·è¯å…¸ç±»å‹ï¼Œå¯è®¾tabledbã€”æ–‡æœ¬ã€•æˆ–userdbã€”äºŒè¿›åˆ¶ã€•
  "translator/initial_quality": 1            #è®¾å®šæ­¤ç¿»è¯‘å™¨å‡ºå­—ä¼˜å…ˆçº§, æ•°å€¼è¶Šå¤§, å€™é€‰æ’åºè¶Šé å‰
  "translator/spelling_hints": 4                #è®¾å®šnå­—å†…å€™é€‰æ ‡æ³¨å®Œæ•´å¸¦è°ƒæ‹¼éŸ³ã€”ä»…script_translatoræœ‰æ•ˆã€•
  "translator/enable_charset_filter": true     # å¼€å¯å­—ç¬¦é›†è¿‡æ»¤,é™åˆ¶ç”Ÿè¾Ÿå­— true
  "translator/enable_sentence": false           #ç»„è¯é€ å¥æ•´å¥æ¨¡å¼
  "translator/enable_encoder": false            #é€ è¯å¼€å…³
  "translator/encode_commit_history": false     #å¯¹è¿ç»­ä¸Šå±å­—è‡ªåŠ¨é€ è¯
  "translator/min_phrase_length": 3            #å…è®¸è‡ªåŠ¨é€ è¯çš„æœ€å°å­—æ•°
  "translator/max_phrase_length": 6            #å…è®¸è‡ªåŠ¨é€ è¯çš„æœ€å¤§å­—æ•°
  "translator/enable_completion": true          #ç¼–ç æç¤ºï¼ˆç”¨äºtable_translatorï¼‰æå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ã€true æˆ– falseã€‘
  "translator/always_show_comments": true       #æ–°å¢[always_show_comments]é€‰é¡¹ï¼Œå…è®¸å§‹ç»ˆæ˜¾ç¤ºå€™é€‰è¯æ³¨è§£
  "translator/sentence_over_completion": false  #åœ¨æ— å…¨ç å¯¹åº”å­—è€Œä»…æœ‰é€é”®æç¤ºæ—¶ä¹Ÿå¼€å¯æ™ºèƒ½ç»„å¥ã€”ä»…table_translatoræœ‰æ•ˆã€•
  "translator/strict_spelling": true           #é…åˆ[speller]ä¸­çš„fuzzè§„åˆ™ï¼Œä»…ä»¥ç•¥æ‹¼ç ç»„è¯ã€”ä»…table_translatoræœ‰æ•ˆã€•
  "translator/enable_user_dict": true          #ç”¨æˆ·è¯å…¸å¼€å…³
  "translator/disable_user_dict_for_patterns":  #å½“ç¼–ç åŒ¹é…ä»¥ä¸‹æ ¼å¼æ—¶ï¼Œç”¨æˆ·è¯å…¸æ— æ•ˆ
     - "^z.$"
  "translator/enable_correction": false         #æ–°å¢æ‹¼å†™çº é”™,å½“å‰ä»…é™QWERTYé”®ç›˜å¸ƒå±€åŠä½¿ç”¨[script_translator]çš„æ–¹æ¡ˆ
  "translator/comment_format":                   #å»æ‰ç¼–ç æç¤ºå‰çš„~å·
     - "xform/~//"

  # Emoji
  emoji:
    option_name: emoji
    opencc_config: emoji.json
    inherit_comment: false  # åœ¨ corrector.lua åŠåæŸ¥ä¸­ï¼Œemoji è¿”å›ç©ºæ³¨é‡Š

  #â†“ç®€ç¹æ»¤é•œ
  "simplification":
    opencc_config: s2t.json  # ç®€ -> ç¹
    # opencc_config: s2hk.json  # ç¹ -> é¦™æ¸¯
    # opencc_config: t2s.json   # ç¹ -> ç®€
    # opencc_config: t2tw.json  # ç¹ -> å°æ¹¾
    # opencc_config: t2hk.json  # ç¹ -> é¦™æ¸¯
    # opencc_config: s2tw.json  # ç°¡ -> è‡ºç£æ¨™æº–
    # opencc_config: s2twp.json  # ç°¡ -> è‡ºç£ç‰‡èª
    option_name: simplification
    # show_in_comment: true
    # tips: all  #ç®€ç¹å¯¹ç…§ï¼Œallå­—è©  charå­—
  
  # é‡å¤ä¸Šä¸€æ¬¡è¾“å…¥
  "repeat_last_input":
    input: z
    size: 1
    initial_quality: 1
  
  "repeat_last_input1":
    input: z
    size: 2  #é‡å¤å‰å‡ æ¬¡ä¸Šå±
    initial_quality: 90  #é¦–é€‰

  "repeat_last_input2":
    input: z
    size: 3  #é‡å¤å‰å‡ æ¬¡ä¸Šå±
    initial_quality: 80
  
  "reverse_lookup":
    dictionary: pinyin_simp
    prefix: "z"
    suffix: "'"
    tips: ã€”æ‹¼éŸ³ã€•
    preedit_format:
      - xform/([nl])v/$1Ã¼/
      - xform/([nl])ue/$1Ã¼e/
      - xform/([jqxy])v/$1u/
      - xform|~||
      - xform/[0-9]//  #æ— æ•°å­—
    
  "key_binder/bindings":
    # - { when: has_menu, accept: space, send: space }          # ç©ºç æ—¶æŒ‰ç©ºæ ¼é”®æ¸…ç©ºè¾“å…¥ç é¦–å…ˆéœ€è¦å…³é—­ç è¡¨è¾“å…¥æ³•è¿æ‰“ï¼ˆå‚è§ä¸Šæ–‡ï¼‰ï¼Œè¿™æ ·æ‰å¯ä»¥åœ¨æ‰“ç©ºæ—¶ä¸å‡ºå€™é€‰è¯ã€‚
    # - { when: composing, accept: space, send: Escape }        # åŒä¸Šâ–²
    # - { when: has_menu, accept: comma, send: 4 }             #é€—å·é”® "å››é€‰"
    - { when: has_menu, accept: semicolon, send: 3 }             #åˆ†å·é”® "ä¸‰é€‰"
    - { when: has_menu, accept: apostrophe, send: 2 }             #æ’‡å·é”® "æ¬¡é€‰"
    
  "recognizer":
    import_preset: default
    patterns:
      punct: '^/([0-9]0?|[A-Za-z]+)$'
      reverse_lookup: "^z[a-z]*'?$"
      uppercase: ""  #ä¸­æ–‡çŠ¶æ€å¤§å†™é”å®šç›´æ¥ä¸Šå±
      23m: "^[a-y]{2,3}$"  #äºŒä¸‰ç ç©ºç ä¸è‡ªåŠ¨ä¸Šå±
      zf: '^z[a-z]{0,3}$'  #å¡Z